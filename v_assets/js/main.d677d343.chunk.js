(this["webpackJsonpstarter-bt5"]=this["webpackJsonpstarter-bt5"]||[]).push([[0],{15:function(e,t,c){"use strict";c(1);var n=c(18),s=c.n(n),r=c(7);t.a=function(){var e=s.a.get(r.a.ACCESS_TOKEN);return e?{Authorization:"Bearer "+e}:null}},17:function(e,t,c){"use strict";c.d(t,"b",(function(){return l})),c.d(t,"a",(function(){return o}));var n=c(5),s=c(27),r=c(10),a=c.n(r),i=c(7),l=(c(15),{getAllProduct:function(){return a()({method:"GET",url:"".concat(i.a.SERVER,"/products?page_size=20")})},getProductFilter:function(e){e.set("page_size",20),console.log("api");var t,c=Object(s.a)(e);try{for(c.s();!(t=c.n()).done;){var r=Object(n.a)(t.value,2),l=r[0],o=r[1];console.log(l,o)}}catch(j){c.e(j)}finally{c.f()}return a()({method:"GET",url:"".concat(i.a.SERVER,"/products"),params:e})},getProductNextPage:function(e){return a()({method:"GET",url:e})},getProductDetail:function(e){return a()({method:"GET",url:"".concat(i.a.SERVER,"/products/").concat(e)})},getHomePageData:function(){return a()({method:"GET",url:"".concat(i.a.SERVER,"/home_page")})},getProductSearch:function(e){var t=new URLSearchParams;return t.set("page_size",20),t.set("search_name",e),a()({method:"GET",url:"".concat(i.a.SERVER,"/products/lite"),params:t})}});var o={getAllCategory:function(){return a()({method:"GET",url:"".concat(i.a.SERVER,"/categories")})},getAllBrand:function(){return a()({method:"GET",url:"".concat(i.a.SERVER,"/brands")})}}},59:function(e,t,c){},7:function(e,t,c){"use strict";t.a={SERVER:"https://yshuynh.pythonanywhere.com/api",ACCESS_TOKEN:"access_token"}},81:function(e,t,c){},85:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),r=c(14),a=c.n(r),i=(c(59),c(6)),l=c(5),o=c(17),j=c(3);function d(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var h=c(8),b=c(28),u=c(2),O=function(e){return Object(u.jsx)(j.b,{className:"mb-1 product-card hover-zoom",children:Object(u.jsxs)(h.b,{to:"/products/"+e.product.id,children:[Object(u.jsx)("div",{className:"imgWrapper",style:{backgroundImage:"url(".concat(e.product.thumbnail,")")}}),Object(u.jsxs)(j.c,{className:"pt-2 p-4",children:[Object(u.jsx)(j.f,{className:"title",tag:"h5",children:e.product.name}),Object(u.jsx)(j.v,{children:Object(u.jsxs)(j.d,{children:[Object(u.jsx)(j.g,{children:Object(u.jsxs)(j.e,{className:"subtitle2",children:[d(e.product.price)," VND"]})}),Object(u.jsx)(j.g,{children:Object(u.jsxs)(j.e,{className:"subtitle",children:[d(e.product.sale_price)," VND"]})})]})}),Object(u.jsx)(b.Rating,{readonly:!0,size:25,ratingValue:parseFloat(e.product.avg_rating)/5*100})]})]})})},x=c(31),m=c.n(x),g=c(46),f=function(e){return Object(u.jsx)("div",{children:Object(u.jsx)(j.a,{active:e.active,outline:!0,color:"secondary",children:e.text})})},p=[{price_lowest:0,price_highest:5e6,text:"D\u01b0\u1edbi 5 tri\u1ec7u"},{price_lowest:5e6,price_highest:1e7,text:"T\u1eeb 5 \u0111\u1ebfn 10 tri\u1ec7u"},{price_lowest:1e7,price_highest:15e6,text:"T\u1eeb 10 \u0111\u1ebfn 15 tri\u1ec7u"},{price_lowest:15e6,price_highest:2e7,text:"T\u1eeb 15 \u0111\u1ebfn 20 tri\u1ec7u"},{price_lowest:2e7,price_highest:999999999,text:"Tr\xean 20 tri\u1ec7u"}],v=function(e){var t=Object(i.d)(),c=Object(i.d)().search,r=Object(n.useState)([]),a=Object(l.a)(r,2),d=a[0],b=a[1],O=Object(n.useState)(-1),x=Object(l.a)(O,2),v=x[0],N=x[1],y=Object(n.useState)(-1),w=Object(l.a)(y,2),S=w[0],E=w[1],k=Object(n.useState)(-1),_=Object(l.a)(k,2),T=_[0],R=_[1],P=Object(n.useState)([]),V=Object(l.a)(P,2),C=V[0],q=V[1],U=Object(n.useState)([]),D=Object(l.a)(U,2),I=D[0],L=D[1];function F(e){var t=new URLSearchParams(c);return e==v?t.delete("category"):t.set("category",e),t.delete("brand"),t.toString()}function z(e){var t=new URLSearchParams(c);return e==S?t.delete("brand"):t.set("brand",e),t.toString()}function A(e){var t=new URLSearchParams(c);return e.price_lowest==T?(t.delete("price_lowest"),t.delete("price_highest")):(t.set("price_lowest",e.price_lowest),t.set("price_highest",e.price_highest)),t.toString()}return s.a.useEffect((function(){0!=d.length&&(console.log("activeeee",v.toString()),v&&-1!==v?(console.log("refetchhhh",e.data.length),d.map((function(e){console.log(e.id,v),e.id===v&&(console.log("refetchhhh",e.brands),q(e.brands))}))):o.a.getAllBrand().then((function(e){q(e.data)})).catch((function(e){console.log(e)})).finally((function(){})),L(p))}),[v,d]),s.a.useEffect(Object(g.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new URLSearchParams(c),N(parseInt(t.get("category"))),E(parseInt(t.get("brand"))),R(parseInt(t.get("price_lowest")));case 4:case"end":return e.stop()}}),e)}))),[t]),s.a.useEffect((function(){o.a.getAllCategory().then((function(e){b(e.data)})).catch((function(e){console.log(e)})).finally((function(){}))}),[]),Object(u.jsxs)(j.b,{children:[Object(u.jsx)(j.f,{className:"pt-3 ps-3 font-bold",tag:"h5",children:"B\u1ed8 L\u1eccC"}),Object(u.jsxs)(j.v,{className:"p-4 g-2",children:[Object(u.jsx)(j.g,{sm:"3",lg:"3",xl:"3",children:"Danh m\u1ee5c:"}),Object(u.jsx)(j.g,{sm:"9",lg:"9",xl:"9",className:"d-flex flex-row flex-wrap",children:d.map((function(e){return Object(u.jsx)(h.b,{to:{pathname:"/products",search:F(e.id)},children:Object(u.jsx)("div",{className:"me-2 mb-2",children:Object(u.jsx)(f,{text:e.name,active:e.id===v})},e.id)},e.id)}))}),Object(u.jsx)(j.g,{sm:"3",lg:"3",xl:"3",children:"Th\u01b0\u01a1ng hi\u1ec7u:"}),Object(u.jsx)(j.g,{sm:"9",lg:"9",xl:"9",className:"d-flex flex-row flex-wrap",children:C.map((function(e){return Object(u.jsx)(h.b,{to:{pathname:"/products",search:z(e.id)},children:Object(u.jsx)("div",{className:"me-2 mb-2",children:Object(u.jsx)(f,{text:e.name,active:e.id===S})},e.id)},e.id)}))}),Object(u.jsx)(j.g,{sm:"3",lg:"3",xl:"3",children:"Gi\xe1 c\u1ea3:"}),Object(u.jsx)(j.g,{sm:"9",lg:"9",xl:"9",className:"d-flex flex-row",children:I.map((function(e){return Object(u.jsx)(h.b,{to:{pathname:"/products",search:A(e)},children:Object(u.jsx)("div",{className:"me-2 mb-2",children:Object(u.jsx)(f,{text:e.text,active:e.price_lowest===T})},e.price_lowest)},e.price_lowest)}))})]})]})},N=(c(81),function(){return Object(u.jsx)("div",{className:"fallback-spinner",children:Object(u.jsx)("div",{className:"loading",children:Object(u.jsx)(j.w,{color:"primary"})})})}),y=function(e){var t=Object(n.useState)([]),c=Object(l.a)(t,2),r=c[0],a=c[1],d=Object(n.useState)([]),h=Object(l.a)(d,2),b=h[0],x=h[1],m=Object(n.useState)([]),g=Object(l.a)(m,2),f=g[0],p=g[1],y=Object(n.useState)([]),w=Object(l.a)(y,2),S=w[0],E=(w[1],Object(i.d)()),k=Object(i.d)().search;new URLSearchParams(k);function _(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=r;t&&(c=[]),c.push.apply(c,e.data.results),a(c),p(e.data.links.next)}return s.a.useEffect((function(){window.scrollTo(0,0)}),[]),s.a.useEffect((function(){console.log("router change detect"),console.log(r);var e=new URLSearchParams(k);a([]),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];x(!0),o.b.getProductFilter(e).then((function(e){_(e,t)})).catch((function(e){console.log(e)})).finally((function(){x(!1)}))}(e,!0)}),[E]),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"mb-4",children:Object(u.jsx)(v,{data:S})}),Object(u.jsx)(j.v,{className:"g-1",children:r.map((function(e){return Object(u.jsx)(j.g,{className:"m-0",sm:"6",lg:"6",xl:"3",children:Object(u.jsx)(O,{product:e})},e.id)}))}),b&&Object(u.jsx)(N,{}),!b&&!!f&&Object(u.jsx)(j.v,{className:"mt-3 view-more justify-content-center",children:Object(u.jsx)(j.a,{className:"w-25",onClick:function(){console.log("handle click more action"),x(!0),o.b.getProductNextPage(f).then((function(e){_(e)})).catch((function(e){console.log(e)})).finally((function(){x(!1)}))},children:"Xem th\xeam s\u1ea3n ph\u1ea9m"})})]})},w=c(19),S=c(22),E=c(47),k=function(e){return Object(u.jsxs)(E.a,Object(S.a)(Object(S.a)({speed:2,width:230,height:500,viewBox:"0 0 230 500",backgroundColor:"#dedede",foregroundColor:"#d6d6d6"},e),{},{children:[Object(u.jsx)("rect",{x:"20",y:"290",rx:"2",ry:"2",width:"140",height:"10"}),Object(u.jsx)("rect",{x:"0",y:"0",rx:"2",ry:"2",width:"380",height:"250"}),Object(u.jsx)("rect",{x:"17",y:"266",rx:"0",ry:"0",width:"198",height:"10"}),Object(u.jsx)("rect",{x:"19",y:"328",rx:"0",ry:"0",width:"199",height:"7"}),Object(u.jsx)("rect",{x:"20",y:"348",rx:"0",ry:"0",width:"198",height:"8"}),Object(u.jsx)("rect",{x:"20",y:"369",rx:"0",ry:"0",width:"187",height:"4"}),Object(u.jsx)("rect",{x:"22",y:"390",rx:"0",ry:"0",width:"173",height:"6"}),Object(u.jsx)("rect",{x:"15",y:"444",rx:"0",ry:"0",width:"108",height:"27"})]}))},_=c(48),T=(c(23),c(20)),R=c(10),P=c.n(R),V=c(7),C=c(15),q={getUserInfo:function(){return console.log(Object(C.a)()),P()({method:"GET",url:"".concat(V.a.SERVER,"/user/me"),headers:Object(C.a)()})},getAllOrder:function(){return P()({method:"GET",url:"".concat(V.a.SERVER,"/user/orders?page_size=10"),headers:Object(C.a)()})},getNextPage:function(e){return P()({method:"GET",url:e})},getAllCart:function(){return P()({method:"GET",url:"".concat(V.a.SERVER,"/user/carts"),headers:Object(C.a)()})},addCart:function(e){var t={product:e};return P()({method:"PUT",url:"".concat(V.a.SERVER,"/user/carts/add"),headers:Object(C.a)(),data:t})},subCart:function(e){var t={product:e};return P()({method:"PUT",url:"".concat(V.a.SERVER,"/user/carts/remove"),headers:Object(C.a)(),data:t})},deleteCartItem:function(e){return P()({method:"DELETE",url:"".concat(V.a.SERVER,"/user/carts/").concat(e),headers:Object(C.a)()})},getCheckoutInfo:function(){return P()({method:"GET",url:"".concat(V.a.SERVER,"/user/carts?detail=1"),headers:Object(C.a)()})},createOrder:function(e){return P()({method:"POST",url:"".concat(V.a.SERVER,"/user/orders"),data:e,headers:Object(C.a)()})},updateInfo:function(e){return P()({method:"PUT",url:"".concat(V.a.SERVER,"/user/me"),data:e,headers:Object(C.a)()})}};var U,D,I,L=c(9),F=c(11),z=(T.b.div(U||(U=Object(w.a)(["\n  ","\n"])),(function(e){return e.showMore&&Object(T.a)(D||(D=Object(w.a)(["\n            display: -webkit-box;\n            max-width: 100%;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: normal;\n            word-wrap: normal;\n            -webkit-box-orient: vertical;\n            //height: 600px;\n          "])))})),T.b.div(I||(I=Object(w.a)(["\n  cursor: pointer;\n  font-size: 14px;\n  margin-top: 20px;\n  margin-bottom: 30px;\n  text-decoration: underline;\n"]))),function(e){var t=Object(n.useState)(!0),c=Object(l.a)(t,2),r=(c[0],c[1],Object(n.useState)(null)),a=Object(l.a)(r,2),d=a[0],h=a[1],O=Object(n.useState)([]),x=Object(l.a)(O,2),m=x[0],g=x[1],f=Object(n.useState)([]),p=Object(l.a)(f,2),v=p[0],y=p[1],w=Object(n.useState)([]),S=Object(l.a)(w,2),E=(S[0],S[1]),k=Object(i.f)().id,T=Object(F.b)(),R=Object(i.d)(),P=Object(i.d)().search;new URLSearchParams(P);function V(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}return s.a.useEffect((function(){console.log("router change detect"),console.log(v),y([]),function(e){E(!0),o.b.getProductDetail(e).then((function(e){!function(e){console.log(e.data),h(e.data);var t=[];e.data.images.forEach((function(e){t.push({src:e.url})})),g(t)}(e)})).catch((function(e){console.log(e)})).finally((function(){E(!1)}))}(k)}),[R]),s.a.useEffect((function(){window.scrollTo(0,0)}),[]),Object(u.jsxs)("div",{children:[!d&&Object(u.jsx)(N,{}),d&&Object(u.jsxs)("div",{children:[Object(u.jsx)(j.b,{children:Object(u.jsxs)(j.v,{className:"p-4",children:[Object(u.jsx)(j.g,{md:"6",children:Object(u.jsx)(_.a,{objectFit:"cover",images:m,hasMediaButton:!1,style:{height:"100%",width:"100%",backgroundColor:"white"}})}),Object(u.jsx)(j.g,{md:"6",children:Object(u.jsxs)(j.c,{children:[Object(u.jsx)("h1",{className:"title font-bold",tag:"h5",children:d.name}),Object(u.jsxs)(j.e,{children:["Th\u01b0\u01a1ng hi\u1ec7u: ",d.brand.name," | ID: ",d.id]}),Object(u.jsx)(b.Rating,{readonly:!0,size:25,ratingValue:parseFloat(d.avg_rating)/5*100}),Object(u.jsxs)("h3",{className:"m-0 text-danger",children:[V(d.sale_price)," VND"]}),Object(u.jsxs)("p",{className:"text-decoration-line-through",children:[V(d.price)," VND"]}),Object(u.jsx)(j.v,{className:"g-1",children:Object(u.jsx)(j.g,{md:"6",children:Object(u.jsx)(j.a,{className:"w-100",outline:!0,onClick:function(){q.addCart(d.id).then((function(e){alert("\u0110\xe3 c\u1eadp nh\u1eadt gi\u1ecf h\xe0ng c\u1ee7a b\u1ea1n.")})).catch((function(e){console.log(e),T(Object(L.a)())})).finally((function(){}))},children:"Th\xeam v\xe0o gi\u1ecf h\xe0ng"})})})]})})]})}),Object(u.jsx)(j.b,{className:"mt-4",children:Object(u.jsxs)(j.v,{className:"g-0",children:[Object(u.jsxs)(j.g,{md:"8",children:[Object(u.jsx)(j.f,{className:"pt-3 ps-3 font-bold",tag:"h5",children:"M\xf4 t\u1ea3 s\u1ea3n ph\u1ea9m"}),Object(u.jsx)(j.c,{className:"pe-0 overflow-hidden",children:Object(u.jsx)("div",{class:"description",dangerouslySetInnerHTML:{__html:d.description}})})]}),Object(u.jsxs)(j.g,{md:"4",children:[Object(u.jsx)(j.f,{className:"pt-3 ps-3 font-bold",tag:"h5",children:"Th\xf4ng tin chi ti\u1ebft"}),Object(u.jsx)(j.c,{children:Object(u.jsx)(j.x,{bordered:!0,responsive:!0,size:"",striped:!0,children:Object(u.jsx)("tbody",{children:d.specifications.map((function(e,t){return e.value.length>0?Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.name}),Object(u.jsx)("td",{children:e.value})]},t):Object(u.jsx)("tr",{children:Object(u.jsx)("td",{className:"font-bold",colSpan:"2",children:e.name})},t)}))})})})]})]})})]})]})}),A=function(e){var t=Object(n.useState)([]),c=Object(l.a)(t,2),r=(c[0],c[1]),a=Object(n.useState)([]),i=Object(l.a)(a,2),d=i[0],b=i[1];return s.a.useEffect((function(){r(!0),o.b.getHomePageData().then((function(e){b(e.data)})).catch((function(e){console.log(e)})).finally((function(){r(!1)}))}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)(j.y,{captionText:"",items:[{altText:"",caption:"",key:1,src:"https://cdn.tgdd.vn/2021/12/banner/830-300-830x300-24.png"},{altText:"",caption:"",key:2,src:"https://cdn.tgdd.vn/2022/01/banner/830-300-830x300-4.png"},{altText:"",caption:"",key:3,src:"https://cdn.tgdd.vn/2022/01/banner/830-300-830x300-1.png"}]}),d.length>0?d.map((function(e){return Object(u.jsxs)(j.b,{className:"mt-2",children:[Object(u.jsx)(h.b,{to:"/products?category="+e.id,children:Object(u.jsx)(j.f,{className:"pt-3 ps-3 font-bold",tag:"h5",children:e.name})}),Object(u.jsx)(j.v,{className:"g-1",children:e.products.map((function(e){return Object(u.jsx)(j.g,{className:"m-0",sm:"6",lg:"6",xl:"3",children:Object(u.jsx)(O,{product:e})},e.id)}))})]},e.id)})):Object(u.jsx)("div",{children:Object(u.jsxs)(j.v,{children:[Object(u.jsx)(j.g,{sm:"6",lg:"6",xl:"3",children:Object(u.jsx)(k,{})},"key1"),Object(u.jsx)(j.g,{sm:"6",lg:"6",xl:"3",children:Object(u.jsx)(k,{})},"key2"),Object(u.jsx)(j.g,{sm:"6",lg:"6",xl:"3",children:Object(u.jsx)(k,{})},"key3"),Object(u.jsx)(j.g,{sm:"6",lg:"6",xl:"3",children:Object(u.jsx)(k,{})},"key4")]})})]})},G=c(16),B=c.n(G),H={login:function(e){return P()({method:"POST",url:"".concat(V.a.SERVER,"/login"),data:e})},register:function(e){return P()({method:"POST",url:"".concat(V.a.SERVER,"/register"),data:e})}};var M,J,X,K=function(){var e=Object(i.e)();return Object(u.jsx)(j.v,{className:"justify-content-center",children:Object(u.jsx)(j.g,{md:"5",children:Object(u.jsxs)(j.b,{children:[Object(u.jsxs)(j.f,{tag:"h6",className:"border-bottom p-3 mb-0",children:[Object(u.jsx)("i",{className:"me-2 bi bi-box-arrow-in-left"}),"\u0110\u0103ng k\xfd t\xe0i kho\u1ea3n"]}),Object(u.jsx)(j.c,{children:Object(u.jsxs)(j.n,{id:"registerForm",onSubmit:function(t){var c=new URLSearchParams(B()("#registerForm").serialize());console.log(B()("#loginForm").serialize()),H.register(c).then((function(t){alert("\u0110\u0103ng k\xfd t\xe0i kho\u1ea3n th\xe0nh c\xf4ng!"),e("/login")})).catch((function(e){console.log(e.response.data),alert(JSON.stringify(e.response.data))})).finally((function(){})),t.preventDefault()},children:[Object(u.jsxs)(j.o,{children:[Object(u.jsx)(j.q,{for:"username",children:"Username"}),Object(u.jsx)(j.p,{id:"username",name:"username",placeholder:"Nh\u1eadp t\xean \u0111\u0103ng nh\u1eadp",type:"text"})]}),Object(u.jsxs)(j.o,{children:[Object(u.jsx)(j.q,{for:"password",children:"Password"}),Object(u.jsx)(j.p,{id:"password",name:"password",placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u",type:"password"})]}),Object(u.jsxs)(j.o,{children:[Object(u.jsx)(j.q,{for:"email",children:"Email"}),Object(u.jsx)(j.p,{id:"email",name:"email",placeholder:"Nh\u1eadp email",type:"email"})]}),Object(u.jsxs)(j.v,{className:"justify-content-center text-center",children:[Object(u.jsx)(j.a,{className:"w-25",children:"X\xe1c nh\u1eadn"}),Object(u.jsx)(h.b,{to:"/login",className:"text-hover",children:"\u0110\xe3 c\xf3 t\xe0i kho\u1ea3n? \u0110\u0103ng nh\u1eadp"})]})]})})]})})})},W=c(18),Q=c.n(W),Y=function(){var e=Object(F.b)(),t=Object(i.e)();return Object(u.jsx)(j.v,{className:"justify-content-center",children:Object(u.jsx)(j.g,{md:"5",children:Object(u.jsxs)(j.b,{children:[Object(u.jsxs)(j.f,{tag:"h6",className:"border-bottom p-3 mb-0",children:[Object(u.jsx)("i",{className:"me-2 bi bi-box-arrow-in-right"}),"\u0110\u0103ng nh\u1eadp"]}),Object(u.jsx)(j.c,{children:Object(u.jsxs)(j.n,{id:"loginForm",onSubmit:function(c){var n=new URLSearchParams(B()("#loginForm").serialize());H.login(n).then((function(c){Q.a.set(V.a.ACCESS_TOKEN,c.data.access_token),e(Object(L.c)({access_token:c.data.access_token})),q.getUserInfo().then((function(c){e(Object(L.d)({user:c.data})),t("/")})).catch((function(t){console.log(t),e(Object(L.a)())})).finally((function(){}))})).catch((function(e){console.log(e),alert(JSON.stringify(e.response.data))})).finally((function(){})),c.preventDefault()},children:[Object(u.jsxs)(j.o,{children:[Object(u.jsx)(j.q,{for:"username",children:"Username"}),Object(u.jsx)(j.p,{id:"username",name:"username",placeholder:"Nh\u1eadp t\xean \u0111\u0103ng nh\u1eadp",type:"text"})]}),Object(u.jsxs)(j.o,{children:[Object(u.jsx)(j.q,{for:"password",children:"Password"}),Object(u.jsx)(j.p,{id:"password",name:"password",placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u",type:"password"})]}),Object(u.jsxs)(j.v,{className:"justify-content-center text-center",children:[Object(u.jsx)(j.a,{className:"w-25",children:"X\xe1c nh\u1eadn"}),Object(u.jsx)(h.b,{to:"/register",className:"text-hover",children:"Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? \u0110\u0103ng k\xfd"})]})]})})]})})})},Z=function(e){Object(i.e)();return Object(u.jsx)("div",{children:Object(u.jsxs)(j.r,{children:[Object(u.jsx)(h.b,{to:"/profile",children:Object(u.jsxs)(j.s,{action:!0,disabled:"userProfile"==e.activePage,href:"#",tag:"a",children:[Object(u.jsx)("i",{className:"bi bi-person-bounding-box me-2"}),"Th\xf4ng tin c\xe1 nh\xe2n"]})}),Object(u.jsx)(h.b,{to:"/orders",children:Object(u.jsxs)(j.s,{action:!0,disabled:"ordersHistory"==e.activePage,href:"#",tag:"a",children:[Object(u.jsx)("i",{className:"bi bi-clock-history me-2"}),"L\u1ecbch s\u1eed \u0111\u01a1n h\xe0ng"]})}),Object(u.jsx)(h.b,{to:"/cart",children:Object(u.jsxs)(j.s,{action:!0,disabled:"cart"==e.activePage,href:"#",tag:"a",children:[Object(u.jsx)("i",{className:"bi bi-cart4 me-2"}),"Gi\u1ecf h\xe0ng"]})})]})})},$=function(e){var t=Object(n.useState)(!0),c=Object(l.a)(t,2),r=(c[0],c[1],Object(i.e)()),a=Object(F.c)((function(e){return e.user})),o=Object(n.useState)(null),d=Object(l.a)(o,2),h=(d[0],d[1],Object(n.useState)([])),b=Object(l.a)(h,2),O=(b[0],b[1],Object(i.f)().id,Object(F.b)()),x=(Object(i.d)(),Object(i.d)().search);new URLSearchParams(x);return s.a.useEffect((function(){a||r("/login")}),[]),s.a.useEffect((function(){window.scrollTo(0,0)}),[]),Object(u.jsx)("div",{children:!!a&&Object(u.jsxs)(j.v,{className:"g-2",children:[Object(u.jsx)(j.g,{md:"4",children:Object(u.jsx)(Z,{activePage:"userProfile"})}),Object(u.jsx)(j.g,{md:"8",children:Object(u.jsx)(j.v,{children:Object(u.jsx)(j.g,{children:Object(u.jsxs)(j.b,{children:[Object(u.jsxs)(j.f,{tag:"h6",className:"border-bottom p-3 mb-0",children:[Object(u.jsx)("i",{className:"bi bi-person-bounding-box me-2"}),"Ch\u1ec9nh s\u1eeda th\xf4ng tin c\xe1 nh\xe2n"]}),Object(u.jsx)(j.c,{children:Object(u.jsxs)(j.n,{id:"profileForm",onSubmit:function(e){var t=new URLSearchParams(B()("#profileForm").serialize());q.updateInfo(t).then((function(e){alert("C\u1eadp nh\u1eadt th\xf4ng tin c\xe1 nh\xe2n th\xe0nh c\xf4ng!"),O(Object(L.d)({user:e.data}))})).catch((function(e){console.log(e),alert(JSON.stringify(e.response.data)),O(Object(L.a)())})).finally((function(){})),e.preventDefault()},children:[Object(u.jsxs)(j.o,{children:[Object(u.jsx)(j.q,{for:"username",children:"Username"}),Object(u.jsx)(j.p,{disabled:!0,id:"username",name:"username",placeholder:"Nh\u1eadp t\xean \u0111\u0103ng nh\u1eadp",type:"text",value:a.username})]}),Object(u.jsxs)(j.o,{children:[Object(u.jsx)(j.q,{for:"email",children:"Email"}),Object(u.jsx)(j.p,{required:!0,id:"email",name:"email",placeholder:"Nh\u1eadp email",type:"email",defaultValue:a.email})]}),Object(u.jsxs)(j.o,{children:[Object(u.jsx)(j.q,{for:"name",children:"H\u1ecd v\xe0 t\xean"}),Object(u.jsx)(j.p,{required:!0,id:"name",name:"name",placeholder:"Nh\u1eadp h\u1ecd v\xe0 t\xean",type:"text",defaultValue:a.name})]}),Object(u.jsxs)(j.o,{children:[Object(u.jsx)(j.q,{for:"address",children:"\u0110\u1ecba ch\u1ec9"}),Object(u.jsx)(j.p,{required:!0,id:"address",name:"address",placeholder:"Nh\u1eadp \u0111\u1ecba ch\u1ec9",type:"text",defaultValue:a.address})]}),Object(u.jsxs)(j.o,{children:[Object(u.jsx)(j.q,{for:"phone_number",children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),Object(u.jsx)(j.p,{required:!0,id:"phone_number",name:"phone_number",placeholder:"Nh\u1eadp \u0111\u1ecba ch\u1ec9",type:"tel",defaultValue:a.phone_number})]}),Object(u.jsx)(j.a,{children:"Submit"})]})})]})})})})]})})},ee=function(e){var t=Object(n.useState)([]),c=Object(l.a)(t,2),r=c[0],a=c[1],i=Object(n.useState)([]),o=Object(l.a)(i,2),h=o[0],b=o[1],O=Object(n.useState)([]),x=Object(l.a)(O,2),m=(x[0],x[1]),g=Object(F.c)((function(e){return e.user})),f=Object(F.b)();return s.a.useEffect((function(){window.scrollTo(0,0),b(!0),q.getAllOrder().then((function(e){console.log(e),function(e){var t=r;t.push.apply(t,e.data.results),a(t),m(e.data.links.next)}(e)})).catch((function(e){console.log(e),f(Object(L.a)())})).finally((function(){b(!1)}))}),[]),Object(u.jsx)("div",{children:!!g&&Object(u.jsxs)(j.v,{className:"g-2",children:[Object(u.jsx)(j.g,{md:"4",children:Object(u.jsx)(Z,{activePage:"ordersHistory"})}),Object(u.jsx)(j.g,{md:"8",children:Object(u.jsx)(j.v,{children:Object(u.jsx)(j.g,{children:Object(u.jsxs)(j.b,{children:[Object(u.jsxs)(j.f,{tag:"h6",className:"border-bottom p-3 mb-0",children:[Object(u.jsx)("i",{className:"bi bi-clock-history me-2"}),"L\u1ecbch s\u1eed \u0111\u01a1n h\xe0ng"]}),h&&Object(u.jsx)(N,{}),!h&&r.map((function(e){return Object(u.jsx)(j.c,{className:"border-bottom",children:Object(u.jsxs)(j.v,{children:[Object(u.jsxs)(j.g,{md:"4",children:[Object(u.jsxs)(j.f,{className:"font-bold",children:["M\xe3 \u0111\u01a1n h\xe0ng: ",e.id]}),Object(u.jsxs)("p",{className:"ms-2",children:["Ng\u01b0\u1eddi nh\u1eadn: ",e.name]}),Object(u.jsxs)("p",{className:"ms-2",children:["\u0110\u1ecba ch\u1ec9: ",e.address]}),Object(u.jsxs)("p",{className:"ms-2",children:["S\u1ed1 \u0111i\u1ec7n tho\u1ea1i: ",e.phone_number]}),Object(u.jsxs)("p",{className:"ms-2",children:["Tr\u1ea1ng th\xe1i: ",e.status]}),Object(u.jsxs)("p",{className:"ms-2",children:["T\u1ed5ng gi\xe1 ti\u1ec1n: ",d(e.total_cost)," VND"]})]}),Object(u.jsx)(j.g,{md:"8",children:!h&&e.items.map((function(e){return Object(u.jsxs)(j.v,{className:"text-center mt-2",children:[Object(u.jsx)(j.g,{md:"2",children:Object(u.jsx)("div",{className:"imgWrapper",style:{backgroundImage:"url(".concat(e.product.thumbnail,")")}})}),Object(u.jsx)(j.g,{md:"7",children:Object(u.jsxs)(j.f,{children:[e.product.name," x ",e.count]})}),Object(u.jsx)(j.g,{md:"3",children:Object(u.jsx)(j.f,{children:d(e.order_price*e.count)})})]},e.id)}))})]})},e.id)}))]})})})})]})})},te=(T.b.div(M||(M=Object(w.a)(["\n  ","\n"])),(function(e){return e.showMore&&Object(T.a)(J||(J=Object(w.a)(["\n            display: -webkit-box;\n            max-width: 100%;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: normal;\n            word-wrap: normal;\n            -webkit-box-orient: vertical;\n            height: 600px;\n          "])))})),T.b.div(X||(X=Object(w.a)(["\n  cursor: pointer;\n  font-size: 14px;\n  margin-top: 20px;\n  margin-bottom: 30px;\n  text-decoration: underline;\n"]))),function(e){var t=Object(n.useState)([]),c=Object(l.a)(t,2),r=c[0],a=c[1],i=Object(n.useState)([]),o=Object(l.a)(i,2),d=o[0],b=o[1],O=Object(n.useState)([]),x=Object(l.a)(O,2),m=(x[0],x[1],Object(F.c)((function(e){return e.user}))),g=Object(F.b)();function f(){b(!0),q.getAllCart().then((function(e){console.log(e),function(e){a(e.data)}(e)})).catch((function(e){console.log(e),g(Object(L.a)())})).finally((function(){b(!1)}))}return s.a.useEffect((function(){window.scrollTo(0,0),f()}),[]),Object(u.jsx)("div",{children:!!m&&Object(u.jsxs)(j.v,{className:"g-2",children:[Object(u.jsx)(j.g,{md:"4",children:Object(u.jsx)(Z,{activePage:"cart"})}),Object(u.jsx)(j.g,{md:"8",children:Object(u.jsx)(j.v,{children:Object(u.jsxs)(j.g,{children:[Object(u.jsxs)(j.b,{children:[Object(u.jsxs)(j.f,{tag:"h6",className:"border-bottom p-3 mb-0",children:[Object(u.jsx)("i",{className:"bi bi-cart4 me-2"}),"Gi\u1ecf h\xe0ng c\u1ee7a b\u1ea1n"]}),Object(u.jsxs)(j.c,{children:[Object(u.jsxs)(j.v,{className:"text-center border-bottom",children:[Object(u.jsx)(j.g,{md:"2",children:"H\xecnh \u1ea3nh"}),Object(u.jsx)(j.g,{md:"4",children:"T\xean"}),Object(u.jsx)(j.g,{md:"2",className:"d-flex flex-row justify-content-center",children:"S\u1ed1 l\u01b0\u1ee3ng"}),Object(u.jsx)(j.g,{md:"2",children:"\u0110\u01a1n gi\xe1"}),Object(u.jsx)(j.g,{md:"2",children:"T\u1ed5ng gi\xe1"})]}),d&&Object(u.jsx)(N,{}),!d&&0===r.length&&Object(u.jsxs)("p",{className:"text-center",children:["Gi\u1ecf h\xe0ng c\u1ee7a b\u1ea1n \u0111ang tr\u1ed1ng, nh\u1ea5n ",Object(u.jsx)(h.b,{className:"text-hover text-danger",to:"/",children:"v\xe0o \u0111\xe2y"})," \u0111\u1ec3 xem s\u1ea3n ph\u1ea9m."]}),!d&&r.map((function(e){return Object(u.jsxs)(j.v,{className:"text-center mt-2",children:[Object(u.jsx)(j.g,{md:"2",children:Object(u.jsx)("div",{className:"imgWrapper",style:{backgroundImage:"url(".concat(e.product.thumbnail,")")}})}),Object(u.jsx)(j.g,{md:"4",children:Object(u.jsx)(j.f,{children:e.product.name})}),Object(u.jsxs)(j.g,{md:"2",className:"d-flex flex-column",children:[Object(u.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(u.jsx)("div",{className:"text-hover",onClick:function(){return t=e.product.id,void q.subCart(t).then((function(e){f()})).catch((function(e){console.log(e),g(Object(L.a)())})).finally((function(){}));var t},children:Object(u.jsx)("i",{className:"bi bi-arrow-left"})}),Object(u.jsx)("p",{className:"mx-2",children:e.count}),Object(u.jsx)("div",{className:"text-hover",onClick:function(){return t=e.product.id,void q.addCart(t).then((function(e){f()})).catch((function(e){console.log(e),g(Object(L.a)())})).finally((function(){}));var t},children:Object(u.jsx)("i",{className:"bi bi-arrow-right"})})]}),Object(u.jsx)("div",{className:"text-hover",onClick:function(){return t=e.id,void q.deleteCartItem(t).then((function(e){f()})).catch((function(e){console.log(e),g(Object(L.a)())})).finally((function(){}));var t},children:Object(u.jsx)("p",{className:"text-danger",children:"X\xf3a"})})]}),Object(u.jsx)(j.g,{md:"2",children:Object(u.jsx)(j.f,{children:e.product.sale_price})}),Object(u.jsx)(j.g,{md:"2",children:Object(u.jsx)(j.f,{children:e.product.sale_price*e.count})})]},e.id)}))]})]}),!d&&r.length>0&&Object(u.jsx)("div",{className:"d-flex flex-column w-100 mt-2",children:Object(u.jsx)(h.b,{to:"/checkout",className:"align-right",children:Object(u.jsx)(j.a,{className:"align-right",children:"\u0110\u1ebfn trang thanh to\xe1n"})})})]})})})]})})}),ce=function(e){var t=Object(n.useState)([]),c=Object(l.a)(t,2),r=c[0],a=c[1],o=Object(n.useState)([]),h=Object(l.a)(o,2),b=h[0],O=h[1],x=Object(F.c)((function(e){return e.user})),m=Object(n.useState)(null),g=Object(l.a)(m,2),f=g[0],p=g[1],v=Object(i.e)(),y=Object(F.b)();return s.a.useEffect((function(){window.scrollTo(0,0),O(!0),q.getCheckoutInfo().then((function(e){!function(e){a(e.data.items)}(e),p(e.data)})).catch((function(e){console.log(e),y(Object(L.a)())})).finally((function(){O(!1)}))}),[]),Object(u.jsxs)("div",{children:[b&&Object(u.jsx)(N,{}),!!x&&!!f&&Object(u.jsx)(j.n,{id:"checkoutForm",children:Object(u.jsxs)(j.v,{className:"g-2",children:[Object(u.jsx)(j.g,{md:"8",children:Object(u.jsx)(j.v,{children:Object(u.jsx)(j.g,{children:Object(u.jsxs)(j.b,{children:[Object(u.jsxs)(j.f,{tag:"h6",className:"border-bottom p-3 mb-0",children:[Object(u.jsx)("i",{className:"bi bi-check-square me-2"}),"Ki\u1ec3m tra l\u1ea1i \u0111\u01a1n h\xe0ng"]}),Object(u.jsxs)(j.c,{children:[Object(u.jsxs)(j.v,{className:"text-center border-bottom",children:[Object(u.jsx)(j.g,{md:"2",children:"H\xecnh \u1ea3nh"}),Object(u.jsx)(j.g,{md:"4",children:"T\xean"}),Object(u.jsx)(j.g,{md:"2",className:"d-flex flex-row justify-content-center",children:"S\u1ed1 l\u01b0\u1ee3ng"}),Object(u.jsx)(j.g,{md:"2",children:"\u0110\u01a1n gi\xe1"}),Object(u.jsx)(j.g,{md:"2",children:"T\u1ed5ng gi\xe1"})]}),b&&Object(u.jsx)(N,{}),!b&&r.map((function(e){return Object(u.jsxs)(j.v,{className:"text-center mt-2",children:[Object(u.jsx)(j.g,{md:"2",children:Object(u.jsx)("div",{className:"imgWrapper",style:{backgroundImage:"url(".concat(e.product.thumbnail,")")}})}),Object(u.jsx)(j.g,{md:"4",children:Object(u.jsx)(j.f,{children:e.product.name})}),Object(u.jsx)(j.g,{md:"2",className:"d-flex flex-column",children:Object(u.jsx)("div",{className:"d-flex justify-content-center",children:Object(u.jsx)("p",{className:"mx-2",children:e.count})})}),Object(u.jsx)(j.g,{md:"2",children:Object(u.jsx)(j.f,{children:e.product.sale_price})}),Object(u.jsx)(j.g,{md:"2",children:Object(u.jsx)(j.f,{children:e.product.sale_price*e.count})})]},e.id)}))]})]})})})}),Object(u.jsxs)(j.g,{md:"4",children:[Object(u.jsxs)(j.b,{children:[Object(u.jsxs)(j.f,{tag:"h6",className:"border-bottom p-3 mb-0",children:[Object(u.jsx)("i",{className:"bi bi-person-circle me-2"}),"Th\xf4ng tin ng\u01b0\u1eddi nh\u1eadn h\xe0ng"]}),Object(u.jsxs)(j.c,{children:[Object(u.jsxs)(j.o,{children:[Object(u.jsx)(j.q,{for:"name",children:"H\u1ecd v\xe0 t\xean"}),Object(u.jsx)(j.p,{required:!0,id:"name",name:"name",placeholder:"Nh\u1eadp h\u1ecd v\xe0 t\xean",type:"text",defaultValue:x.name})]}),Object(u.jsxs)(j.o,{children:[Object(u.jsx)(j.q,{for:"address",children:"\u0110\u1ecba ch\u1ec9"}),Object(u.jsx)(j.p,{required:!0,id:"address",name:"address",placeholder:"Nh\u1eadp \u0111\u1ecba ch\u1ec9",type:"text",defaultValue:x.address})]}),Object(u.jsxs)(j.o,{children:[Object(u.jsx)(j.q,{for:"phone_number",children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),Object(u.jsx)(j.p,{required:!0,id:"phone_number",name:"phone_number",placeholder:"Nh\u1eadp \u0111\u1ecba ch\u1ec9",type:"tel",defaultValue:x.phone_number})]})]})]}),Object(u.jsxs)(j.b,{className:"mt-2",children:[Object(u.jsxs)(j.f,{tag:"h6",className:"border-bottom p-3 mb-0",children:[Object(u.jsx)("i",{className:"bi bi-credit-card me-2"}),"Ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n"]}),Object(u.jsx)(j.c,{children:Object(u.jsxs)(j.o,{tag:"fieldset",required:!0,children:[b&&Object(u.jsx)(N,{}),!b&&!!f.payments&&f.payments.map((function(e){return Object(u.jsxs)(j.o,{check:!0,children:[Object(u.jsx)(j.p,{id:e.id,required:!0,name:"payment",type:"radio",value:e.id})," ",Object(u.jsx)(j.q,{for:e.id.toString(),check:!0,children:e.name})]},e.id)}))]})}),Object(u.jsxs)(j.c,{className:"d-flex",children:[Object(u.jsx)("div",{className:"",children:"T\u1ed5ng ti\u1ec1n s\u1ea3n ph\u1ea9m:"}),Object(u.jsxs)("div",{className:"align-right",children:[d(f.sum_price)," VND"]})]}),Object(u.jsxs)(j.c,{className:"d-flex",children:[Object(u.jsx)("div",{className:"",children:"Ph\xed giao h\xe0ng:"}),Object(u.jsxs)("div",{className:"align-right",children:[d(f.shipping_fee)," VND"]})]}),Object(u.jsxs)(j.c,{className:"d-flex",children:[Object(u.jsx)("div",{className:"",children:"T\u1ed5ng chi ph\xed:"}),Object(u.jsxs)("div",{className:"align-right font-bold",children:[d(f.total_cost)," VND"]})]})]}),Object(u.jsx)("div",{className:"d-flex flex-column w-100 mt-2",children:Object(u.jsx)(j.a,{type:"submit",className:"align-right",onClick:function(e){var t=B()('input[name="payment"]:checked').val();if(t){console.log(t);var c=new URLSearchParams(B()("#checkoutForm").serialize());console.log(c.get("payment")),console.log(c.get("name")),console.log(c.get("address")),console.log(c.get("phone_number"));var n={};n.payment=c.get("payment"),n.name=c.get("name"),n.address=c.get("address"),n.phone_number=c.get("phone_number"),console.log(n),n.items=[],r.forEach((function(e){n.items.push({product:e.product.id,count:e.count})})),console.log(n),window.confirm("B\u1ea1n c\xf3 ch\u1eafn ch\u1eafn \u0111\u1eb7t h\xe0ng?")?q.createOrder(n).then((function(e){alert("B\u1ea1n \u0111\xe3 \u0111\u1eb7t h\xe0ng th\xe0nh c\xf4ng!"),v("/orders")})).catch((function(e){console.log(e),y(Object(L.a)())})).finally((function(){})):e.preventDefault()}else alert("Vui l\xf2ng ch\u1ecdn ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n.")},children:"X\xe1c nh\u1eadn \u0111\u1eb7t h\xe0ng"})})]})]})})]})},ne=Object(n.lazy)((function(){return c.e(3).then(c.bind(null,94))})),se=[{path:"/",element:Object(u.jsx)(ne,{}),children:[{path:"/",exact:!0,element:Object(u.jsx)(A,{})},{path:"/products",exact:!0,element:Object(u.jsx)(y,{})},{path:"/products/:id",exact:!0,element:Object(u.jsx)(z,{})},{path:"/login",exact:!0,element:Object(u.jsx)(Y,{})},{path:"/register",exact:!0,element:Object(u.jsx)(K,{})},{path:"/profile",exact:!0,element:Object(u.jsx)($,{})},{path:"/orders",exact:!0,element:Object(u.jsx)(ee,{})},{path:"/cart",exact:!0,element:Object(u.jsx)(te,{})},{path:"/checkout",exact:!0,element:Object(u.jsx)(ce,{})}]}],re=function(){var e=Object(i.h)(se),t=Object(F.b)();return s.a.useEffect((function(){var e=Q.a.get("access_token");console.log(e),e&&e.length>0&&(t(Object(L.c)({access_token:e})),q.getUserInfo().then((function(e){t(Object(L.d)({user:e.data}))})).catch((function(e){console.log(e),t(Object(L.a)())})).finally((function(){})))}),[]),Object(u.jsx)("div",{className:"dark",children:e})},ae=function(e){e&&e instanceof Function&&c.e(4).then(c.bind(null,93)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),n(e),s(e),r(e),a(e)}))};a.a.render(Object(u.jsx)(n.Suspense,{fallback:Object(u.jsx)(N,{}),children:Object(u.jsxs)(h.a,{children:[Object(u.jsx)(F.a,{store:L.b,children:Object(u.jsx)(re,{})}),","]})}),document.getElementById("root")),ae()},9:function(e,t,c){"use strict";c.d(t,"c",(function(){return l})),c.d(t,"a",(function(){return o})),c.d(t,"d",(function(){return j}));var n=c(32),s=c(18),r=c.n(s),a=Object(n.b)({name:"auth",initialState:{access_token:null,user:null},reducers:{setAccessToken:function(e,t){e.access_token=t.payload.access_token},clearAccessToken:function(e){e.access_token=null,e.user=null,r.a.remove("access_token")},setUser:function(e,t){e.user=t.payload.user}}}),i=a.actions,l=i.setAccessToken,o=i.clearAccessToken,j=i.setUser,d=Object(n.a)({reducer:a.reducer});t.b=d,d.subscribe((function(){return console.log(d.getState())}))}},[[85,1,2]]]);
//# sourceMappingURL=main.d677d343.chunk.js.map